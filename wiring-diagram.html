<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Wiring Diagram — Independent Switches for B1 & B2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; display:flex; gap:24px;
           align-items:flex-start; padding:24px; background:#f7f9fb; color:#111; }
    .card { background:white; border-radius:8px; box-shadow:0 6px 18px rgba(20,30,60,0.08);
           padding:16px; width:880px; }
    h1 { font-size:18px; margin:0 0 12px; }
    p { margin:0 0 12px; color:#444; font-size:14px; }
    svg { width:100%; height:520px; background:linear-gradient(180deg,#fff,#fbfdff); border-radius:6px; }
    .legend { font-size:13px; color:#333; margin-top:8px; }
    .note { margin-top:12px; font-size:13px; color:#555; }
    button { margin-top:8px; padding:8px 12px; border-radius:6px; border:1px solid #cbd5e1; background:#fff; cursor:pointer;}
  </style>
</head>
<body>
  <div class="card">
    <h1>Wiring Diagram — B₁ and B₂ controlled independently</h1>
    <p>Click <strong>S1</strong> and <strong>S2</strong> (the small toggle rectangles) to switch Bulb B1 and Bulb B2 on/off independently.</p>

    <!-- SVG drawing -->
    <svg viewBox="0 0 1100 650" id="svg">
      <!-- Definitions -->
      <defs>
        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="6" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>

      <!-- Power source / Distribution box -->
      <g id="source">
        <rect x="40" y="40" width="180" height="120" rx="8" fill="#e9f2ff" stroke="#7aa1ff" stroke-width="3"/>
        <line x1="40" y1="40" x2="220" y2="160" stroke="#7aa1ff" stroke-width="2"/>
        <text x="130" y="115" fill="#154a8a" font-size="16" font-weight="600" text-anchor="middle">Supply</text>
      </g>

      <!-- neutrals (blue) going to bulbs -->
      <g id="neutrals" stroke="#2b78c6" stroke-width="4" stroke-linecap="round" fill="none">
        <!-- to B1 -->
        <path d="M220 100 L440 100 L660 100 L820 100" id="neutral-b1"/>
        <!-- down to B2 -->
        <path d="M660 100 L660 360 L660 520" id="neutral-b2"/>
      </g>

      <!-- Live (red) from supply to switches -->
      <g id="lives" stroke="#d9534f" stroke-width="6" stroke-linecap="round" fill="none">
        <path d="M220 140 L360 140" />
        <!-- branch to S1 -->
        <path d="M360 140 L520 140" />
        <!-- branch to S2 -->
        <path d="M360 140 L360 360 L520 360" />
      </g>

      <!-- Switches -->
      <!-- S1 -->
      <g id="S1" class="switch" cursor="pointer" transform="translate(520,120)" onclick="toggleSwitch('S1')">
        <rect x="-26" y="-18" width="60" height="36" rx="6" fill="#f3f4f6" stroke="#a0aec0" stroke-width="2" />
        <rect id="S1-handle" x="-20" y="-12" width="26" height="24" rx="3" fill="#fff" stroke="#94a3b8" stroke-width="1.5"/>
        <text x="36" y="6" font-size="14" fill="#223" font-weight="600">S1</text>
      </g>

      <!-- S2 -->
      <g id="S2" class="switch" cursor="pointer" transform="translate(520,360)" onclick="toggleSwitch('S2')">
        <rect x="-26" y="-18" width="60" height="36" rx="6" fill="#f3f4f6" stroke="#a0aec0" stroke-width="2" />
        <rect id="S2-handle" x="-20" y="-12" width="26" height="24" rx="3" fill="#fff" stroke="#94a3b8" stroke-width="1.5"/>
        <text x="36" y="6" font-size="14" fill="#223" font-weight="600">S2</text>
      </g>

      <!-- Live outputs from switches to bulbs -->
      <g id="live-to-bulbs" stroke="#d9534f" stroke-width="6" stroke-linecap="round" fill="none">
        <!-- S1 -> B1 -->
        <path id="lS1-B1" d="M560 140 L660 140 L760 140" />
        <!-- S2 -> B2 -->
        <path id="lS2-B2" d="M560 360 L660 360 L660 480" />
      </g>

      <!-- Bulb B1 -->
      <g id="B1" transform="translate(820,100)" >
        <circle cx="0" cy="0" r="34" fill="#fff" stroke="#9ca3af" stroke-width="3" id="bulb1-body"/>
        <g id="bulb1-glow" opacity="0">
          <circle cx="0" cy="0" r="56" fill="#ffd57a" filter="url(#glow)" />
        </g>
        <rect x="-14" y="34" width="28" height="18" rx="3" fill="#cbd5e1" stroke="#94a3b8" />
        <text x="0" y="-60" font-size="16" text-anchor="middle" fill="#1f2937" font-weight="600">B₁</text>
      </g>

      <!-- Bulb B2 -->
      <g id="B2" transform="translate(660,520)">
        <circle cx="0" cy="0" r="34" fill="#fff" stroke="#9ca3af" stroke-width="3" id="bulb2-body"/>
        <g id="bulb2-glow" opacity="0">
          <circle cx="0" cy="0" r="56" fill="#ffd57a" filter="url(#glow)"/>
        </g>
        <rect x="-14" y="34" width="28" height="18" rx="3" fill="#cbd5e1" stroke="#94a3b8" />
        <text x="0" y="-60" font-size="16" text-anchor="middle" fill="#1f2937" font-weight="600">B₂</text>
      </g>

      <!-- Labels for Live/Neutral -->
      <text x="260" y="120" font-size="13" fill="#b91c1c">Live (L)</text>
      <text x="520" y="90" font-size="13" fill="#2b78c6">Neutral (N)</text>

      <!-- small explanatory arrows -->
      <g>
        <line x1="220" y1="100" x2="240" y2="100" stroke="#2b78c6" stroke-width="2" marker-end="url(#arrow)"/>
      </g>

      <!-- small arrow marker -->
      <defs>
        <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
          <path d="M0,0 L8,4 L0,8 z" fill="#2b78c6"></path>
        </marker>
      </defs>

      <!-- wiring connection dots -->
      <circle cx="360" cy="140" r="6" fill="#d9534f" stroke="white" stroke-width="2"/>
      <circle cx="520" cy="140" r="6" fill="#d9534f" stroke="white" stroke-width="2"/>
      <circle cx="360" cy="360" r="6" fill="#d9534f" stroke="white" stroke-width="2"/>
      <circle cx="520" cy="360" r="6" fill="#d9534f" stroke="white" stroke-width="2"/>
    </svg>

    <div class="legend">
      <strong>Legend:</strong>
      &nbsp; <span style="color:#d9534f">Red</span> = Live (L) &nbsp; • &nbsp; <span style="color:#2b78c6">Blue</span> = Neutral (N)
    </div>

    <div class="note">
      Wiring logic: Live goes from the supply to both switches. Each switch's output goes to its bulb's live terminal. Neutral is common and goes directly to both bulbs.
    </div>

    <button onclick="resetAll()">Reset (turn both off)</button>
  </div>

<script>
  // track state
  const state = { S1: false, S2: false };

  function setBulb(id, on) {
    const glow = document.getElementById(id + '-glow');
    const body = document.getElementById(id + '-body');
    if (on) {
      glow.setAttribute('opacity', '1');
      body.setAttribute('fill', '#fff7d9');
      body.setAttribute('stroke', '#d97706');
      body.setAttribute('filter', 'url(#glow)');
    } else {
      glow.setAttribute('opacity', '0');
      body.setAttribute('fill', '#ffffff');
      body.setAttribute('stroke', '#9ca3af');
      body.removeAttribute('filter');
    }
  }

  function setSwitchVisual(switchId, on) {
    const handle = document.getElementById(switchId + '-handle');
    if (!handle) return;
    if (on) {
      // move handle to right and darken
      handle.setAttribute('x', '6'); // moved
      handle.setAttribute('fill', '#fee2b3');
      handle.setAttribute('stroke', '#b45309');
    } else {
      handle.setAttribute('x', '-20'); // default left
      handle.setAttribute('fill', '#fff');
      handle.setAttribute('stroke', '#94a3b8');
    }
  }

  function toggleSwitch(sId) {
    // flip state
    state[sId] = !state[sId];
    // update visuals
    if (sId === 'S1') {
      setBulb('bulb1', state.S1);
      setSwitchVisual('S1', state.S1);
    }
    if (sId === 'S2') {
      setBulb('bulb2', state.S2);
      setSwitchVisual('S2', state.S2);
    }
  }

  function resetAll() {
    state.S1 = false; state.S2 = false;
    setBulb('bulb1', false); setBulb('bulb2', false);
    setSwitchVisual('S1', false); setSwitchVisual('S2', false);
  }

  // init off
  resetAll();

  // Accessibility: keyboard toggles
  document.addEventListener('keydown', (e) => {
    if (e.key === '1') toggleSwitch('S1');
    if (e.key === '2') toggleSwitch('S2');
  });
</script>

</body>
  </html>
